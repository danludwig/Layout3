@model UCosmic.Web.Mvc.Models.Tenancy
@{
    // make sure the style bundle actually exists
    var root = Server.MapPath("~/styles");
    var target = Path.Combine(root, string.Format(@"tenants\{0}", Model.StyleDomain));
    var info = Directory.GetDirectories(Path.Combine(root, "tenants"));
    var tenant = "_default";
    if (info.Contains(target))
    {
        tenant = Model.StyleDomain;
    }
}
@*@(Styles.Render(Styles.Render(string.Format("~/styles/tenants/{0}/main", tenant)).ToString().Replace("%20", " ").Replace("layout.css\"", "layout.css\"  shim-shadowdom")))*@
@*@Html.Raw(Styles.Render(string.Format("~/styles/tenants/{0}/main", tenant)).ToString().Replace("%20", " ").Replace("layout.css\"", "layout.css\"  shim-shadowdom"))*@
@Html.Raw(Styles.Render(string.Format("~/styles/tenants/{0}/main", tenant)).ToString().Replace("%20", " ").Replace("stylesheet\"", "stylesheet\" shim-shadowdom"))
<!--[if lt IE 9]>
@Styles.Render(string.Format("~/styles/tenants/{0}/ie8", tenant))
<![endif]-->
