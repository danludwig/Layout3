define(["require","exports","../amd-modules/Establishments/SearchResult","../amd-modules/Establishments/Search"],function(n,t,i,r){function h(){var n=this,o;n.isBound=ko.observable(),n.back=function(){history.back()},n.sideSwiper=new App.SideSwiper({speed:"",frameWidth:970,root:"[data-current-module=agreements]"}),n.participants=ko.observableArray();var t=new f(!1),r="uc.edu",i=new e({isOwner:!0,establishment:new u({id:1,officialName:"University of Cincinnati",translatedName:"University of Cincinnati",officialUrl:"www.uc.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},t)});r==="usf.edu"&&(i.establishment=new u({id:1,officialName:"University of South Florida",translatedName:"University of South Florida",officialUrl:"www.usf.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},t)),r==="lehigh.edu"&&(i.establishment=new u({id:1,officialName:"Lehigh University",translatedName:"Lehigh University",officialUrl:"www.lehigh.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},t)),r==="umn.edu"&&(i.establishment=new u({id:1,officialName:"University of Minnesota",translatedName:"University of Minnesota",officialUrl:"www.umn.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},t)),r==="uc.edu"&&(i.establishment=new u({id:1,officialName:"University of Cincinnati",translatedName:"University of Cincinnati",officialUrl:"www.uc.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},t)),r==="suny.edu"&&(i.establishment=new u({id:1,officialName:"State University of New York",translatedName:"State University of New York",officialUrl:"www.suny.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},t)),n.participants.push(i),n.establishmentSearchViewModel=new f,n.establishmentSearchViewModel.sammy=undefined,n.establishmentSearchViewModel.nextPage=function(){if(n.establishmentSearchViewModel.nextEnabled()){var t=parseInt(n.establishmentSearchViewModel.pageNumber())+1;location.hash="/participants/add/page/"+t}},n.establishmentSearchViewModel.prevPage=function(){n.establishmentSearchViewModel.prevEnabled()&&history.back()},n.addParticipant=function(t){var i=new e({isOwner:!1,establishment:t});n.participants.push(i),location.hash="#/"},n.establishmentSearchViewModel.items.subscribe(function(t){if(t&&t.length)for(var i=0;i<t.length;i++)t[i].clickAction!==n.addParticipant&&(t[i].clickAction=n.addParticipant)}),n.removeParticipant=function(t,i){return confirm('Are you sure you want to remove "'+t.translatedName()+'" as a participant from this agreement?')&&n.participants.remove(function(i){return i.establishment.id()===t.id()&&$(i.participantEl).slideUp("fast",function(){n.participants.remove(i)}),!1}),i.preventDefault(),i.stopPropagation(),!1},n.sammy=Sammy(),o="data-side-swiper",n.isBound(!0)}var o=i,s=r,u=o.SearchResult,f=s.Search,e=function(){function n(n){this.establishment=new u({id:1,officialName:"University of Cincinnati",translatedName:"University of Cincinnati",officialUrl:"www.uc.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},new f(!1)),this.isNotOwner=ko.computed(function(){return!1});n:!1;n:new u({id:1,officialName:"University of Cincinnati",translatedName:"University of Cincinnati",officialUrl:"www.uc.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},new f(!1));n:ko.computed(function(){return!n.isOwner})}return n}();t.InstitutionalAgreementEditModel=h})